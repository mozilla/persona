<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
    <section id="formWrap" class="rpBackground">
      <form novalidate>
        <div class="favicon">
            <div class="table">
                <div class="vertical rpInfo">
                </div>
            </div>
        </div>

        <div id="signIn">
            <div class="table">
              <div class="vertical">
                <div class="contents">
                </div>
                <!-- the username and password must be in the dialog before
                     DOMContentLoaded or else the Firefox password manager does
                     not fill in passwords -->
                <div id="authentication_form" class="form_section">
                    <div class="isDesktop">
                      <h2 class="isStart persona_intro deemphasize">
                          <%- format(gettext('%s uses Persona instead of usernames to sign you in.'), ['<strong id="start_rp_name"></strong>']) %>

                      </h2>
                    </div>
                    <div class="isMobile">
                      <h2 class="isStart">
                          <%- format(gettext('Sign in with Persona')) %>
                      </h2>
                    </div>

                    <ul class="inputs">

                        <li>
                            <label for="authentication_email" class="isDesktopOrStart"></label>
                            <span class="label email_state"><%= gettext('Enter your email address') %></span>
                            <span class="label transition_to_secondary"><%- format(gettext('%(idp)s no longer allows you to log into Persona with your %(idp)s password. You must now use your existing Persona password to log in with this email address.'), { idp: '<strong class="authentication_idp_name"></strong>'}) %></span>
                            <span class="label password_state"><%= gettext('Now enter your Persona password.') %></span>
                            <input id="authentication_email" class="isDesktopOrStart" type="email" autocapitalize="off" autocorrect="off" spellcheck="false" value="" maxlength="254" placeholder="<%= gettext('enter email address') %>"/>

                            <div id="email_format" class="tooltip" for="authentication_email">
                              <%= gettext('Must be an email address') %>
                            </div>

                            <div id="email_required" class="tooltip" for="authentication_email">
                              <%= gettext('Email field required') %>
                            </div>

                        </li>


                        <li class="isReturning">


                            <label for="authentication_password" class="hidden"><%= gettext('Password') %></label>

                            <h2 class="isMobile"><%- gettext('Enter password') %></h2>
                            <input id="authentication_password" type="password" maxlength="80" placeholder="<%= gettext('password') %>" />

                            <div id="password_required" class="tooltip" for="authentication_password">
                              <%= gettext('Password field required') %>
                            </div>

                            <div id="could_not_add" class="tooltip" for="authentication_password">
                              <%= gettext('Initial confirmation sent &ndash; wait a few minutes before requesting another') %>
                            </div>

                            <div id="cannot_authenticate" class="tooltip" for="authentication_password">
                              <%= gettext('Password incorrect') %>
                            </div>

                        </li>

                    </ul>

                    <p class="submit cf isReturning">
                      <a class="isMobile forgotPassword" href="#">
                        <%= gettext('Forgot your password?') %>
                      </a>
                    </p>


                    <p class="submit tospp cf isDesktopOrStart">
                       <%- format(gettext("By proceeding, you agree to %(site)s's <a %(terms)s>Terms</a> and <a %(privacy)s>Privacy Policy</a>."),
                                  { site: "Persona",
                                    terms:
                                        'href="https://login.persona.org/' + lang + '/embedded_tos" target="_new" tabindex="1"',
                                    privacy:
                                        'href="https://login.persona.org/' + lang + '/embedded_privacy" target="_new" tabindex="1"' }) %>
                    </p>

                    <p class="isMobile isStart submit tospp cf rpInfo">
                    </p>

                    <p class="submit cf buttonrow">

                      <button class="isDesktop isStart isAddressInfo right">
                        <%= gettext('next') %>
                      </button>

                      <button class="isMobile isStart isAddressInfo continue right" disabled>
                        <%= gettext('continue') %>
                      </button>

                      <a href="#" class="isMobile isStart isAddressInfo cancelDialog">
                        <%= gettext('cancel') %>
                      </a>

                      <button class="isReturning">
                        <%= gettext('sign in') %>
                      </button>

                      <a href="#" class="isMobile isReturning cancelPassword">
                        <%= gettext('cancel') %>
                      </a>

                      <a class="isDesktop isReturning forgotPassword left" href="#">
                        <%= gettext('Forgot your password?') %>
                      </a>

                    </p>


                </div>
              </div>
            </div>
            <div class="arrowContainer isDesktop">
                <div class="arrow"></div>
            </div>
        </div>
      </form>
    </section>


    <section id="wait" class="message_screen">
        <!-- because each section is an absolutely positioned element, we have to use the inner table container element to be able to vertically/horizontally center correctly.  Without the table element, the layout gets all messed up. -->
        <div class="table">
            <div class="vertical">
                <div class="contents">
                </div>
            </div>
        </div>
    </section>

    <section id="error" class="message_screen">
        <div class="table">
            <div class="vertical">
                <div class="contents">
                </div>
            </div>
        </div>
        <p class="submit cf buttonrow isMobile">
            <button class="cancelDialog"><%= gettext('OK') %></button>
        </p>
    </section>

    <section id="delay" class="message_screen center">
        <div class="table">
            <div class="vertical">
                <div class="contents">
                </div>
            </div>
        </div>
    </section>
